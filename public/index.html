<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">

  <title>WebAR Menu - Reality Dining</title>
  <meta name="description" content="See your food in Reality before you order">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">

  <!-- Model Viewer for 3D AR -->
  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <!-- ========== CAMERA SCANNER (FULL SCREEN - FIRST VIEW) ========== -->
  <div id="camera-scanner" class="camera-view">
    <video id="scanner-video" autoplay playsinline></video>
    <div class="scanner-overlay">
      <div class="scan-frame">
        <div class="scan-line"></div>
      </div>
      <h2>Scan Hotel Menu QR Code</h2>
      <p>Point camera at the table QR code</p>
      <button class="btn-demo-scan" onclick="simulateQRScan()">[ Demo: Simulate Scan ]</button>
    </div>
    <div class="scanner-branding">
      <p><strong>Md Modassir Hussain</strong></p>
      <p class="tagline">"We show you reality so you do not pay for fake food."</p>
    </div>
  </div>

  <!-- ========== PERSISTENT NAVBAR (Hidden until QR scanned) ========== -->
  <nav id="app-navbar" class="hidden">
    <button class="nav-home-btn" onclick="showScanner()">
      <span>üè†</span> Home
    </button>
    <div class="nav-links-row">
      <button onclick="showSection('menu-screen')">Menu</button>
      <button onclick="showSection('hotel-info')">Hotel</button>
      <button onclick="showSection('feedback-section')">Feedback</button>
      <button onclick="showSection('about-us')">About Us</button>
    </div>
  </nav>

  <!-- ========== MENU SCREEN (Compact Text-Only) ========== -->
  <div id="menu-screen" class="app-screen hidden">
    <div class="menu-container">
      <!-- North Indian -->
      <section class="menu-section">
        <h3>üçõ North Indian</h3>
        <ul>
          <li onclick="showDishDetail('butter-chicken')">Butter Chicken <span>‚Çπ350</span></li>
          <li onclick="showDishDetail('paneer-tikka')">Paneer Tikka <span>‚Çπ280</span></li>
          <li onclick="showDishDetail('dal-makhani')">Dal Makhani <span>‚Çπ220</span></li>
          <li onclick="showDishDetail('garlic-naan')">Garlic Naan <span>‚Çπ60</span></li>
          <li onclick="showDishDetail('veg-biryani')">Veg Biryani <span>‚Çπ320</span></li>
        </ul>
      </section>

      <!-- Chinese -->
      <section class="menu-section">
        <h3>ü•° Chinese</h3>
        <ul>
          <li onclick="showDishDetail('hakka-noodles')">Hakka Noodles <span>‚Çπ240</span></li>
          <li onclick="showDishDetail('veg-manchurian')">Veg Manchurian <span>‚Çπ220</span></li>
          <li onclick="showDishDetail('chilli-chicken')">Chilli Chicken <span>‚Çπ290</span></li>
          <li onclick="showDishDetail('dim-sums')">Veg Dim Sums <span>‚Çπ180</span></li>
          <li onclick="showDishDetail('spring-rolls')">Spring Rolls <span>‚Çπ150</span></li>
        </ul>
      </section>

      <!-- South Indian -->
      <section class="menu-section">
        <h3>ü•ò South Indian</h3>
        <ul>
          <li onclick="showDishDetail('masala-dosa')">Masala Dosa <span>‚Çπ180</span></li>
          <li onclick="showDishDetail('idli-sambhar')">Idli Sambhar <span>‚Çπ140</span></li>
          <li onclick="showDishDetail('medu-vada')">Medu Vada <span>‚Çπ140</span></li>
          <li onclick="showDishDetail('onion-uttapam')">Onion Uttapam <span>‚Çπ160</span></li>
          <li onclick="showDishDetail('lemon-rice')">Lemon Rice <span>‚Çπ160</span></li>
        </ul>
      </section>

      <!-- Desserts -->
      <section class="menu-section">
        <h3>üçÆ Desserts</h3>
        <ul>
          <li onclick="showDishDetail('gulab-jamun')">Gulab Jamun <span>‚Çπ90</span></li>
          <li onclick="showDishDetail('rasmalai')">Rasmalai <span>‚Çπ110</span></li>
          <li onclick="showDishDetail('kulfi')">Kesar Kulfi <span>‚Çπ80</span></li>
          <li onclick="showDishDetail('brownie')">Choco Brownie <span>‚Çπ140</span></li>
          <li onclick="showDishDetail('ice-cream')">Premium Vanilla <span>‚Çπ70</span></li>
        </ul>
      </section>
    </div>
  </div>

  <!-- ========== HOTEL INFO ========== -->
  <div id="hotel-info" class="app-screen hidden content-page">
    <div class="info-card">
      <h2>Diamond Plaza Restaurant</h2>
      <p>Culinary transparency and pure craft since 2020.</p>
      <div class="details">
        <p>üìç 5th Floor, Diamond Plaza</p>
        <p>üïí 11:00 AM - 11:00 PM</p>
        <p>‚≠ê 4.9/5 Rating</p>
      </div>
    </div>
  </div>

  <!-- ========== CONTACT US (Premium) ========== -->
  <div id="feedback-section" class="app-screen hidden content-page">
    <div class="info-card contact-card">
      <h2>‚ú® Contact Us</h2>
      <p class="mission">"We show you reality so you do not pay for fake food."</p>

      <form onsubmit="event.preventDefault(); submitFeedback();">
        <input type="text" placeholder="Your Name" required>
        <input type="email" placeholder="Email Address" required>
        <input type="tel" placeholder="Phone Number" required>

        <div class="star-rating">
          <p>Rate Your Experience:</p>
          <div class="stars">
            <input type="radio" name="rating" value="5" id="star5">
            <label for="star5">‚≠ê</label>
            <input type="radio" name="rating" value="4" id="star4">
            <label for="star4">‚≠ê</label>
            <input type="radio" name="rating" value="3" id="star3">
            <label for="star3">‚≠ê</label>
            <input type="radio" name="rating" value="2" id="star2">
            <label for="star2">‚≠ê</label>
            <input type="radio" name="rating" value="1" id="star1">
            <label for="star1">‚≠ê</label>
          </div>
        </div>

        <textarea placeholder="Share your feedback..." rows="4" required></textarea>
        <button type="submit">Submit Feedback</button>
      </form>

      <div class="contact-details">
        <h4>üìç Visit Us</h4>
        <p>Diamond Plaza Restaurant</p>
        <p>5th Floor, Diamond Plaza</p>
        <p>MG Road, Bangalore - 560001</p>
        <p>Karnataka, India</p>

        <h4>üìû Reach Us</h4>
        <p>Phone: +91 98765 43210</p>
        <p>Email: contact@diamondplaza.com</p>

        <h4>‚è∞ Hours</h4>
        <p>Mon - Sun: 11:00 AM - 11:00 PM</p>
      </div>

      <div class="developer-credits">
        <p>Developed by <strong>Md Modassir Hussain</strong></p>
      </div>
    </div>
  </div>

  <!-- ========== ABOUT US ========== -->
  <div id="about-us" class="app-screen hidden content-page">
    <div class="info-card">
      <h2>About Us</h2>
      <p class="mission">"We show you reality so you do not pay for fake food."</p>
      <p>Developed by: <strong>Md Modassir Hussain</strong></p>
      <div class="contact">
        <h4>Contact Us</h4>
        <p>üìß contact@diamondplaza.com</p>
        <p>üìû +91 98765 43210</p>
      </div>
    </div>
  </div>

  <!-- ========== DISH DETAIL PAGE ========== -->
  <div id="dish-detail" class="app-screen hidden">
    <div class="detail-container">
      <button class="btn-back-detail" onclick="showSection('menu-screen')">‚Üê Back to Menu</button>

      <div class="detail-image-wrapper">
        <img id="detail-dish-image" src="" alt="Dish Image">
      </div>

      <div class="detail-info">
        <h2 id="detail-dish-name">Dish Name</h2>
        <p class="detail-price" id="detail-dish-price">‚Çπ0</p>

        <div class="detail-nutrition">
          <div class="nutrition-item">
            <span class="label">Protein</span>
            <span id="detail-protein" class="value">--</span>
          </div>
          <div class="nutrition-item">
            <span class="label">Carbs</span>
            <span id="detail-carbs" class="value">--</span>
          </div>
          <div class="nutrition-item">
            <span class="label">Fiber</span>
            <span id="detail-fiber" class="value">--</span>
          </div>
        </div>

        <div class="detail-ingredients">
          <h4>Ingredients:</h4>
          <ul id="detail-ingredients-list"></ul>
        </div>

        <button class="btn-view-ar" onclick="openARView()">
          ‚ú® View in AR
        </button>
      </div>
    </div>
  </div>

  <!-- ========== AR VIEW (3D Model + Specs + Order) ========== -->
  <div id="ar-view" class="camera-view hidden">
    <!-- AR Overlay UI -->
    <div class="ar-overlay">
      <!-- Dish Name -->
      <div class="ar-header">
        <button class="btn-back-ar" onclick="closeAR()">‚Üê Back</button>
        <h3 id="ar-dish-name">Dish Name</h3>
      </div>

      <!-- Nutritional Info -->
      <div class="ar-specs">
        <div class="spec-item"><span class="label">Protein</span><span id="ar-protein" class="value">--</span></div>
        <div class="spec-item"><span class="label">Carbs</span><span id="ar-carbs" class="value">--</span></div>
        <div class="spec-item"><span class="label">Fiber</span><span id="ar-fiber" class="value">--</span></div>
      </div>

      <!-- Ingredients -->
      <div class="ar-ingredients">
        <h4>Ingredients</h4>
        <ul id="ar-ingredients-list"></ul>
      </div>

      <!-- Order Panel -->
      <div class="ar-order-panel">
        <div class="quantity-control">
          <button onclick="changeQty(-1)">‚àí</button>
          <span id="plate-qty">1</span>
          <button onclick="changeQty(1)">+</button>
        </div>
        <button class="btn-order" onclick="placeOrder()">üõí Add to Order</button>
      </div>
    </div>
  </div>

  <!-- ========== SIMPLE AR VIEW (Camera + 3D Model) ========== -->
  <div id="ar-camera-container"
    style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 7000; background: #000;">
    <!-- Camera Video Feed -->
    <video id="ar-camera-video" autoplay playsinline
      style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;"></video>

    <!-- 3D Model Overlay -->
    <model-viewer id="ar-3d-model"
      style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80%; height: 60%; z-index: 7001;"
      camera-controls auto-rotate shadow-intensity="1" exposure="1" camera-orbit="0deg 75deg 2m"
      min-camera-orbit="auto auto 1m" max-camera-orbit="auto auto 10m">
    </model-viewer>
  </div>

  <!-- Custom JavaScript -->
  <script src="app.js"></script>
</body>

</html>