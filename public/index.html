<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">

  <title>WebAR Menu - Reality Dining</title>
  <meta name="description" content="See your food in Reality before you order">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">

  <!-- A-Frame for WebXR -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <!-- AR.js for webcam support -->
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

  <!-- Custom Styles -->
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <!-- ========== PERSISTENT NAVBAR (Top-Left) ========== -->
  <nav id="app-navbar">
    <button class="nav-home-btn" onclick="showHomeScreen()">
      <span>ğŸ </span> Home
    </button>
    <div class="nav-links-row">
      <button onclick="showSection('menu-screen')">Menu</button>
      <button onclick="showSection('hotel-info')">Hotel</button>
      <button onclick="showSection('feedback-section')">Feedback</button>
      <button onclick="showSection('about-us')">About Us</button>
    </div>
  </nav>

  <!-- ========== SCANNER VIEW (Camera First) ========== -->
  <div id="home-scanner" class="full-screen-view">
    <div class="scanner-overlay">
      <div class="scan-frame"></div>
      <h2>Scan Hotel Menu QR</h2>
      <p>Point your camera at the table QR code</p>
      <button class="btn-scan-demo" onclick="simulateScan()">[ Demo: Tap to Scan ]</button>
    </div>
    <div class="scanner-branding">
      <p><strong>Md Modassir Hussain</strong></p>
      <p class="tagline">"We show you reality so you do not pay for fake food."</p>
    </div>
  </div>

  <!-- ========== MENU SCREEN (Compact Text-Only) ========== -->
  <div id="menu-screen" class="full-screen-view hidden">
    <div class="menu-container">
      <!-- North Indian -->
      <section class="menu-section">
        <h3>ğŸ› North Indian</h3>
        <ul>
          <li onclick="openAR('butter-chicken')">Butter Chicken <span>â‚¹350</span></li>
          <li onclick="openAR('paneer-tikka')">Paneer Tikka <span>â‚¹280</span></li>
          <li onclick="openAR('dal-makhani')">Dal Makhani <span>â‚¹220</span></li>
          <li onclick="openAR('garlic-naan')">Garlic Naan <span>â‚¹60</span></li>
          <li onclick="openAR('veg-biryani')">Veg Biryani <span>â‚¹320</span></li>
        </ul>
      </section>

      <!-- Chinese -->
      <section class="menu-section">
        <h3>ğŸ¥¡ Chinese</h3>
        <ul>
          <li onclick="openAR('hakka-noodles')">Hakka Noodles <span>â‚¹240</span></li>
          <li onclick="openAR('veg-manchurian')">Veg Manchurian <span>â‚¹220</span></li>
          <li onclick="openAR('chilli-chicken')">Chilli Chicken <span>â‚¹290</span></li>
          <li onclick="openAR('dim-sums')">Veg Dim Sums <span>â‚¹180</span></li>
          <li onclick="openAR('spring-rolls')">Spring Rolls <span>â‚¹150</span></li>
        </ul>
      </section>

      <!-- South Indian -->
      <section class="menu-section">
        <h3>ğŸ¥˜ South Indian</h3>
        <ul>
          <li onclick="openAR('masala-dosa')">Masala Dosa <span>â‚¹180</span></li>
          <li onclick="openAR('idli-sambhar')">Idli Sambhar <span>â‚¹140</span></li>
          <li onclick="openAR('medu-vada')">Medu Vada <span>â‚¹140</span></li>
          <li onclick="openAR('onion-uttapam')">Onion Uttapam <span>â‚¹160</span></li>
          <li onclick="openAR('lemon-rice')">Lemon Rice <span>â‚¹160</span></li>
        </ul>
      </section>

      <!-- Desserts -->
      <section class="menu-section">
        <h3>ğŸ® Desserts</h3>
        <ul>
          <li onclick="openAR('gulab-jamun')">Gulab Jamun <span>â‚¹90</span></li>
          <li onclick="openAR('rasmalai')">Rasmalai <span>â‚¹110</span></li>
          <li onclick="openAR('kulfi')">Kesar Kulfi <span>â‚¹80</span></li>
          <li onclick="openAR('brownie')">Choco Brownie <span>â‚¹140</span></li>
          <li onclick="openAR('ice-cream')">Premium Vanilla <span>â‚¹70</span></li>
        </ul>
      </section>
    </div>
  </div>

  <!-- ========== HOTEL INFO ========== -->
  <div id="hotel-info" class="full-screen-view hidden content-page">
    <div class="info-card">
      <h2>Diamond Plaza Restaurant</h2>
      <p>Culinary transparency and pure craft since 2020.</p>
      <div class="details">
        <p>ğŸ“ 5th Floor, Diamond Plaza</p>
        <p>ğŸ•’ 11:00 AM - 11:00 PM</p>
        <p>â­ 4.9/5 Rating</p>
      </div>
    </div>
  </div>

  <!-- ========== FEEDBACK FORM ========== -->
  <div id="feedback-section" class="full-screen-view hidden content-page">
    <div class="info-card">
      <h2>Guest Feedback</h2>
      <form onsubmit="event.preventDefault(); submitFeedback();">
        <input type="text" placeholder="Your Name" required>
        <textarea placeholder="Share your experience..." rows="4" required></textarea>
        <button type="submit">Submit Feedback</button>
      </form>
    </div>
  </div>

  <!-- ========== ABOUT US ========== -->
  <div id="about-us" class="full-screen-view hidden content-page">
    <div class="info-card">
      <h2>About Us</h2>
      <p class="mission">"We show you reality so you do not pay for fake food."</p>
      <p>Developed by: <strong>Md Modassir Hussain</strong></p>
      <div class="contact">
        <h4>Contact Us</h4>
        <p>ğŸ“§ support@webar-restaurant.com</p>
        <p>ğŸ“ +91 98765 43210</p>
      </div>
    </div>
  </div>

  <!-- ========== AR VIEW (3D Model + Specs + Order) ========== -->
  <div id="ar-view" class="full-screen-view hidden">
    <!-- AR Overlay UI -->
    <div class="ar-overlay">
      <!-- Dish Name -->
      <div class="ar-header">
        <button class="btn-back-ar" onclick="closeAR()">â† Back</button>
        <h3 id="ar-dish-name">Dish Name</h3>
      </div>

      <!-- Nutritional Info -->
      <div class="ar-specs">
        <div class="spec-item"><span class="label">Protein</span><span id="ar-protein" class="value">--</span></div>
        <div class="spec-item"><span class="label">Carbs</span><span id="ar-carbs" class="value">--</span></div>
        <div class="spec-item"><span class="label">Fiber</span><span id="ar-fiber" class="value">--</span></div>
      </div>

      <!-- Ingredients -->
      <div class="ar-ingredients">
        <h4>Ingredients</h4>
        <ul id="ar-ingredients-list"></ul>
      </div>

      <!-- Order Panel -->
      <div class="ar-order-panel">
        <div class="quantity-control">
          <button onclick="changeQty(-1)">âˆ’</button>
          <span id="plate-qty">1</span>
          <button onclick="changeQty(1)">+</button>
        </div>
        <button class="btn-order" onclick="placeOrder()">ğŸ›’ Add to Order</button>
      </div>
    </div>
  </div>

  <!-- ========== A-FRAME AR SCENE ========== -->
  <a-scene id="ar-scene"
    arjs="sourceType: webcam; debugUIEnabled: false; trackingMethod: best; sourceParameters: { facingMode: 'environment' };"
    vr-mode-ui="enabled: false" renderer="logarithmicDepthBuffer: true; colorManagement: true;"
    loading-screen="enabled: false">

    <a-light type="ambient" intensity="1.2"></a-light>
    <a-light type="directional" intensity="0.8" position="1 1 1"></a-light>

    <a-entity id="model-container" position="0 -0.5 -1.5">
      <a-gltf-model id="ar-model" rotation="0 0 0"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 15000; easing: linear">
      </a-gltf-model>
    </a-entity>

    <a-entity camera></a-entity>
  </a-scene>

  <!-- Custom JavaScript -->
  <script src="app.js"></script>
</body>

</html>